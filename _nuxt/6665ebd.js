(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(t,e,n){"use strict";n.r(e);var o=n(0).a.extend({name:"SideNav",props:{show:{type:Boolean,default:!1}}}),r=(n(238),n(7)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidenav-container"},[t.show?n("div",{staticClass:"sidenav-backdrop",on:{click:function(e){return t.$emit("close")}}}):t._e(),t._v(" "),n("transition",{attrs:{name:"slide-side"}},[t.show?n("nav",{staticClass:"sidenav"},[n("ul",{staticClass:"sidenav-list",on:{click:function(e){return t.$emit("close")}}},[n("li",{staticClass:"sidenav-item"},[n("nuxt-link",{attrs:{to:"/posts"}},[t._v("Blog")])],1),t._v(" "),n("li",{staticClass:"sidenav-item"},[n("nuxt-link",{attrs:{to:"/about"}},[t._v("About")])],1),t._v(" "),n("li",{staticClass:"sidenav-item"},[n("nuxt-link",{attrs:{to:"/admin"}},[t._v("Admin")])],1)])]):t._e()])],1)}),[],!1,null,"5cdc0c6c",null);e.default=component.exports},109:function(t,e,n){"use strict";n.r(e);var o=n(0).a.extend({name:"PostPreview",props:{id:{type:String,required:!0},isAdmin:{type:Boolean,required:!0},title:{type:String,required:!0},previewText:{type:String,required:!0},thumbnail:{type:String,required:!0}},computed:{postLink:function(){return this.isAdmin?"/admin/"+this.id:"/posts/"+this.id}}}),r=(n(270),n(7)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nuxt-link",{staticClass:"post-preview",attrs:{to:t.postLink}},[n("article",[n("div",{staticClass:"post-thumbnail",style:{backgroundImage:"url("+t.thumbnail+")"}}),t._v(" "),n("div",{staticClass:"post-content"},[n("h1",[t._v(t._s(t.title))]),t._v(" "),n("p",[t._v(t._s(t.previewText))])])])])}),[],!1,null,"116e58c1",null);e.default=component.exports},110:function(t,e,n){"use strict";n.r(e);var o=n(0).a.extend({}),r=(n(234),n(7)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"drawer-toggle",attrs:{role:"button"},on:{click:function(e){return t.$emit("toggle")}}},[n("span",{staticClass:"bar"}),t._v(" "),n("span",{staticClass:"bar"}),t._v(" "),n("span",{staticClass:"bar"})])}),[],!1,null,"61f9186a",null);e.default=component.exports},113:function(t,e,n){"use strict";var o=n(0),r=n(115),c=n(116),l=n(117);o.a.component("AppButton",r.default),o.a.component("AppControlInput",c.default),o.a.component("PostList",l.default)},114:function(t,e,n){"use strict";n(43),n(66);var o=n(0),r=["January","February","March","April","May","Jun","July","August","September","October","November","December"],c=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth(),c=e.getDate();return"".concat(c,".").concat(r[o]," ").concat(n)};o.a.filter("date",(function(t){return c(t)}))},115:function(t,e,n){"use strict";n.r(e);var o=n(0).a.extend({name:"AppButton",props:{btnStyle:{type:String,default:""}}}),r=(n(266),n(7)),component=Object(r.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("button",this._g(this._b({staticClass:"button",class:this.btnStyle},"button",this.$attrs,!1),this.$listeners),[this._t("default")],2)}),[],!1,null,"a8132824",null);e.default=component.exports},116:function(t,e,n){"use strict";n.r(e);var o=n(0).a.extend({name:"AppInputControl",props:{controlType:{type:String,default:"input"},value:{type:String,default:""}}}),r=(n(268),n(7)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-control"},[n("label",[t._t("default")],2),t._v(" "),"input"===t.controlType?n("input",t._b({domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"input",t.$attrs,!1)):t._e(),t._v(" "),"textarea"===t.controlType?n("textarea",{attrs:{rows:"10"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}):t._e()])}),[],!1,null,"fcf92604",null);e.default=component.exports},117:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(109),c=o.a.extend({components:{PostPreview:r.default},props:{isAdmin:{type:Boolean,default:!1},posts:{type:Array,required:!0}}}),l=(n(272),n(7)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"post-list"},t._l(t.posts,(function(e){return n("PostPreview",{key:e.id,attrs:{id:e.id,"is-admin":t.isAdmin,thumbnail:e.thumbnail,title:e.title,previewText:e.previewText}})})),1)}),[],!1,null,"4ad95e40",null);e.default=component.exports;installComponents(component,{PostPreview:n(109).default})},152:function(t,e,n){var content=n(227);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("72cc7874",content,!0,{sourceMap:!1})},154:function(t,e,n){var content=n(233);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("938f3782",content,!0,{sourceMap:!1})},155:function(t,e,n){var content=n(235);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("e14a4a5a",content,!0,{sourceMap:!1})},156:function(t,e,n){var content=n(237);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("02ac8524",content,!0,{sourceMap:!1})},157:function(t,e,n){var content=n(239);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("6ab662a8",content,!0,{sourceMap:!1})},158:function(t,e,n){var content=n(241);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("56b15182",content,!0,{sourceMap:!1})},169:function(t,e,n){var content=n(267);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("38fd1362",content,!0,{sourceMap:!1})},170:function(t,e,n){var content=n(269);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("d6cef97e",content,!0,{sourceMap:!1})},171:function(t,e,n){var content=n(271);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("42d027fc",content,!0,{sourceMap:!1})},172:function(t,e,n){var content=n(273);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("266f2d20",content,!0,{sourceMap:!1})},180:function(t,e,n){"use strict";var o=n(0),r=n(80),c=n(108),l=o.a.extend({components:{Header:r.default,SideNav:c.default},data:function(){return{displaySidenav:!1}}}),d=(n(240),n(7)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{on:{sidenavToggle:function(e){t.displaySidenav=!t.displaySidenav}}}),t._v(" "),n("SideNav",{attrs:{show:t.displaySidenav},on:{close:function(e){t.displaySidenav=!1}}}),t._v(" "),n("nuxt")],1)}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{Header:n(80).default,SideNav:n(108).default})},181:function(t,e,n){"use strict";n(232);var o=n(7),component=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nuxt")],1)}),[],!1,null,null,null);e.a=component.exports},182:function(t,e,n){n(183),t.exports=n(184)},202:function(t,e,n){"use strict";n.r(e),e.default=function(t){console.log("[Middleware] Just Auth"),t.store.getters["post/isAuthenticated"]||t.redirect("/admin/auth")}},203:function(t,e,n){"use strict";n.r(e),e.default=function(t){console.log("[Middleware] Check Auth"),t.store.dispatch("post/initAuth",null),t.store.dispatch("post/initAuth",t.req)}},204:function(t,e,n){"use strict";n.r(e),e.default=function(t){console.log("[Middleware] Running")}},226:function(t,e,n){"use strict";n(152)},227:function(t,e,n){(e=n(15)(!1)).push([t.i,".error-page[data-v-3a601653]{text-align:center}.error-page a[data-v-3a601653]{text-decoration:none;color:red}.error-page a[data-v-3a601653]:active,.error-page a[data-v-3a601653]:hover{color:salmon}",""]),t.exports=e},230:function(t,e,n){var content=n(231);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("470cbfe5",content,!0,{sourceMap:!1})},231:function(t,e,n){(e=n(15)(!1)).push([t.i,".page-enter-active,.page-leave-active{transition:opacity .5s}.page-enter,.page-leave-to{opacity:0}",""]),t.exports=e},232:function(t,e,n){"use strict";n(154)},233:function(t,e,n){(e=n(15)(!1)).push([t.i,'html{font-family:"Open Sans",sans-serif;box-sizing:border-box}body{margin:0}',""]),t.exports=e},234:function(t,e,n){"use strict";n(155)},235:function(t,e,n){(e=n(15)(!1)).push([t.i,".drawer-toggle[data-v-61f9186a]{display:flex;flex-direction:column;justify-content:space-around;height:50%;width:35px;cursor:pointer}@media (min-width:768px){.drawer-toggle[data-v-61f9186a]{display:none}}.drawer-toggle .bar[data-v-61f9186a]{display:block;width:90%;height:2px;background-color:#fff}",""]),t.exports=e},236:function(t,e,n){"use strict";n(156)},237:function(t,e,n){(e=n(15)(!1)).push([t.i,".header[data-v-680e9298],.header-container[data-v-680e9298]{height:60px}.header[data-v-680e9298]{width:100%;position:fixed;display:flex;justify-content:space-around;align-items:center;background-color:#000;z-index:100;padding:0 20px}.logo[data-v-680e9298]{margin:0 10px;font-size:1.3rem}.logo a[data-v-680e9298]{text-decoration:none;color:#fff}.spacer[data-v-680e9298]{flex:1}.nav[data-v-680e9298]{display:none}.nav-list[data-v-680e9298]{list-style:none;padding:0;margin:0;display:flex}.nav-item[data-v-680e9298]{margin:0 10px}.nav-item a[data-v-680e9298]{text-decoration:none;color:#fff}.nav-item a.nuxt-link-active[data-v-680e9298],.nav-item a[data-v-680e9298]:active,.nav-item a[data-v-680e9298]:hover{color:red}@media(min-width:768px){.nav[data-v-680e9298]{display:block}}",""]),t.exports=e},238:function(t,e,n){"use strict";n(157)},239:function(t,e,n){(e=n(15)(!1)).push([t.i,".sidenav[data-v-5cdc0c6c]{height:100%;width:300px;background-color:#fff;z-index:10000;position:fixed;top:0;left:0;padding:30px}.sidenav-backdrop[data-v-5cdc0c6c],.sidenav-container[data-v-5cdc0c6c]{height:100%;width:100%}.sidenav-backdrop[data-v-5cdc0c6c]{background-color:rgba(0,0,0,.7);z-index:1000;position:fixed;top:0;left:0}.sidenav-list[data-v-5cdc0c6c]{list-style:none;padding:0;margin:0}.sidenav-item[data-v-5cdc0c6c]{margin:20px 0}.sidenav-item a[data-v-5cdc0c6c]{text-decoration:none;color:#000;font-size:1.5rem}.sidenav-item a[data-v-5cdc0c6c]:active,.sidenav-item a[data-v-5cdc0c6c]:hover{color:red}.slide-side-enter[data-v-5cdc0c6c],.slide-side-leave-to[data-v-5cdc0c6c]{transform:translateX(-100%)}.slide-side-enter-active[data-v-5cdc0c6c],.slide-side-leave-to-active[data-v-5cdc0c6c]{transition:all .3s ease-out}",""]),t.exports=e},240:function(t,e,n){"use strict";n(158)},241:function(t,e,n){(e=n(15)(!1)).push([t.i,'*{box-sizing:border-box}html{font-family:"Open Sans",sans-serif}body{margin:0}',""]),t.exports=e},242:function(t,e,n){"use strict";n.r(e);var o=n(21),r=(n(32),n(3));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.default={actions:{nuxtServerInit:function(t,e){return Object(r.a)(regeneratorRuntime.mark((function n(){var data,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.app.$axios.$get("/posts.json");case 3:for(r in data=n.sent,o=[],data)o.push(l(l({},data[r]),{},{id:r}));return n.abrupt("return",t.commit("post/setPosts",o,{root:!0}));case 9:n.prev=9,n.t0=n.catch(0),e.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}}}},243:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return h})),n.d(e,"getters",(function(){return x})),n.d(e,"actions",(function(){return y})),n.d(e,"mutations",(function(){return w}));n(43),n(244),n(245),n(50),n(246),n(29),n(56),n(79),n(247);var o=n(21),r=(n(32),n(3)),c=n(25),l=n.n(c),d=n(60),f=n.n(d);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=function(){return{loadedPosts:[],token:null}},x={loadedPosts:function(t){return t.loadedPosts},isAuthenticated:function(t){return null!=t.token}},y={addPost:function(t,e){return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=m(m({},e),{},{updatedDate:new Date}),n.next=4,l.a.post("".concat("https://nuxt-blog-e2622-default-rtdb.firebaseio.com","/posts.json?auth=").concat(t.state.token),o);case 4:return r=n.sent,t.commit("addPost",m(m({},o),{},{id:r.data.name})),n.abrupt("return");case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},editPost:function(t,e){return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.put("".concat("https://nuxt-blog-e2622-default-rtdb.firebaseio.com","/posts/").concat(e.id,".json?auth=").concat(t.state.token),e);case 3:return n.sent,t.commit("editPost",e),n.abrupt("return");case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},setPosts:function(t,e){t.commit("setPosts",e)},authenticateUser:function(t,e){return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r,c,d,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="",o=e.isLogin?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyDtYFcMhfNhtjhsrfTTOa8cZD-q2i0Xp3M"):"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat("AIzaSyDtYFcMhfNhtjhsrfTTOa8cZD-q2i0Xp3M"),n.prev=2,n.next=5,l.a.post(o,{email:e.email,password:e.password,returnSecureToken:!0});case 5:return r=n.sent,c=r.data.idToken,d=1e3*r.data.expiresIn,v=String((new Date).getTime()+d),t.commit("setToken",c),localStorage.setItem("token",c),localStorage.setItem("tokenExpiration",v),f.a.set("jwt",c),f.a.set("expirationDate",v),n.abrupt("return");case 17:n.prev=17,n.t0=n.catch(2),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[2,17]])})))()},initAuth:function(t,e){var n,o;if(e){if(!e.headers.cookie)return;var r=e.headers.cookie.split(";").find((function(t){return t.trim().startsWith("jwt=")}));if(!r)return;n=r.split("=")[1],o=e.headers.cookie.split(";").find((function(t){return t.trim().startsWith("expirationDate=")})).split("=")[1]}else n=localStorage.getItem("token"),o=Number(localStorage.getItem("tokenExpiration"));if((new Date).getTime()>o||!n)return console.log("No token or invalid token"),void t.dispatch("logout");t.commit("setToken",n)},logout:function(t){t.commit("clearToken"),f.a.remove("jwt"),f.a.remove("expirationDate"),localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration")}},w={setPosts:function(t,e){t.loadedPosts=e},addPost:function(t,e){t.loadedPosts.push(e)},editPost:function(t,e){var n=t.loadedPosts.findIndex((function(t){return t.id===e.id}));t.loadedPosts[n]=e},setToken:function(t,e){t.token=e},clearToken:function(t){t.token=null}}},266:function(t,e,n){"use strict";n(169)},267:function(t,e,n){(e=n(15)(!1)).push([t.i,".button[data-v-a8132824]{font:inherit;background-color:#000;color:#fff;padding:5px;cursor:pointer;border:1px solid #000}.button[data-v-a8132824]:active,.button[data-v-a8132824]:hover{background-color:#333;border:1px solid #000}.inverted[data-v-a8132824]{color:#000}.inverted[data-v-a8132824],.inverted[data-v-a8132824]:active,.inverted[data-v-a8132824]:hover{background-color:#fff;border:1px solid transparent}.inverted[data-v-a8132824]:active,.inverted[data-v-a8132824]:hover{color:#ccc}.cancel[data-v-a8132824]{background-color:red}.cancel[data-v-a8132824],.cancel[data-v-a8132824]:active,.cancel[data-v-a8132824]:hover{color:#fff;border:1px solid transparent}.cancel[data-v-a8132824]:active,.cancel[data-v-a8132824]:hover{background-color:salmon}",""]),t.exports=e},268:function(t,e,n){"use strict";n(170)},269:function(t,e,n){(e=n(15)(!1)).push([t.i,".input-control[data-v-fcf92604]{margin:10px 0}.input-control label[data-v-fcf92604]{display:block;font-weight:700}.input-control input[data-v-fcf92604],.input-control textarea[data-v-fcf92604]{display:block;width:100%;font:inherit;border:1px solid #ccc;padding:5px}.input-control input[data-v-fcf92604]:focus,.input-control textarea[data-v-fcf92604]:focus{background-color:#eee;outline:none}",""]),t.exports=e},270:function(t,e,n){"use strict";n(171)},271:function(t,e,n){(e=n(15)(!1)).push([t.i,".post-preview[data-v-116e58c1]{border:1px solid #ccc;box-shadow:0 2px 2px #ccc;background-color:#fff;width:90%;margin-bottom:20px}.post-preview[data-v-116e58c1]:last-child{margin-bottom:0}a[data-v-116e58c1]{text-decoration:none;color:#000}a:active .post-content[data-v-116e58c1],a:hover .post-content[data-v-116e58c1]{background-color:#ccc}@media(min-width:850px){.post-preview[data-v-116e58c1]{width:400px;margin:10px}}.post-thumbnail[data-v-116e58c1]{width:100%;height:200px;background-position:50%;background-size:cover}.post-content[data-v-116e58c1]{padding:10px;text-align:center}",""]),t.exports=e},272:function(t,e,n){"use strict";n(172)},273:function(t,e,n){(e=n(15)(!1)).push([t.i,".post-list[data-v-4ad95e40]{padding:20px;display:flex;flex-wrap:wrap;align-items:center;justify-content:center}",""]),t.exports=e},30:function(t,e,n){"use strict";n(226);var o=n(7),component=Object(o.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-page"},[e("h1",[this._v("Oops, something went wrong!")]),this._v(" "),e("p",[this._v("Back to "),e("a",{attrs:{href:"/"}},[this._v("safety")]),this._v("!")])])}],!1,null,"3a601653",null);e.a=component.exports},80:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(110),c=o.a.extend({name:"Header",components:{SideNavToggle:r.default}}),l=(n(236),n(7)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-container"},[n("header",{staticClass:"header"},[n("SideNavToggle",{on:{toggle:function(e){return t.$emit("sidenavToggle")}}}),t._v(" "),n("div",{staticClass:"logo"},[n("nuxt-link",{attrs:{to:"/"}},[t._v("WD BLOG")])],1),t._v(" "),n("span",{staticClass:"spacer"}),t._v(" "),n("nav",{staticClass:"nav"},[n("ul",{staticClass:"nav-list"},[n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/posts"}},[t._v("Blog")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/about"}},[t._v("About")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/admin"}},[t._v("Admin")])],1)])])],1)])}),[],!1,null,"680e9298",null);e.default=component.exports;installComponents(component,{SideNavToggle:n(110).default,Header:n(80).default})}},[[182,10,1,11]]]);